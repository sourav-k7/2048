(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{12:function(e,t,n){e.exports={Cell:"cell_Cell__17M2O"}},13:function(e,t,n){e.exports={Board:"board_Board__1TOxL"}},15:function(e,t,n){e.exports={Scoreboard:"scoreboard_Scoreboard__VL2WO"}},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(9),s=n.n(a),o=n(3),c=n(8),i=n(10),d=n(11),l=n(17),u=n(16),f=n(12),b=n.n(f),h=n(0),j=function(e){return Object(h.jsx)("div",{className:b.a.Cell,style:{backgroundColor:["rgba(255,255,255,0.3)","#9600ff","#f0145a","#ffc91b","#0ed145","#0095d6","#ce007b","#ff5518","#29d7a5","#b83dba","#ff0024","#5f069b"][e.val?Math.log2(e.val):e.val]},children:e.val})},v=n(13),m=n.n(v),p=n(14),O=n.n(p),k=function(e){return Object(h.jsx)("div",{className:m.a.Board,children:e.board.map((function(e){return e.map((function(e){return Object(h.jsx)(j,{val:e},O()("cell_"))}))}))})},x=n(15),w=n.n(x),y=function(e){return Object(h.jsxs)("center",{className:w.a.Scoreboard,children:[Object(h.jsxs)("span",{children:["Score: ",e.score]}),Object(h.jsxs)("span",{children:["Best: ",e.best]}),Object(h.jsx)("div",{onClick:e.clicked,children:"New Game"})]})},B=function(){return[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]},g=n(7),_=n.n(g),S=function(e){return Object(h.jsxs)("div",{className:_.a.Endscreen,children:[Object(h.jsx)("div",{style:{fontSize:150,marginTop:"200px"},children:e.win?"You win":"You Lose"}),Object(h.jsxs)("div",{style:{fontSize:30},children:["Score:",e.score," Best:",e.best]}),Object(h.jsx)("div",{onClick:e.clicked,className:_.a.Button,children:"Play Again"})]})},N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).endGame=function(e){for(var t=[[-1,0],[1,0],[0,1],[0,-1]],n=!0,a=0;a<4;a++){for(var s=0;s<4;s++){for(var o=0;o<4;o++)if(a+t[o][0]>-1&&a+t[o][0]<4&&s+t[o][1]>-1&&s+t[o][1]<4&&e[a+t[o][0]][s+t[o][1]]===e[a][s]){n=!1;break}if(!n)break}if(!n)break}n&&r.setState({lose:n})},r.addNumber=function(e){for(var t=[],n=0;n<4;n++)for(var a=0;a<4;a++)0===e[n][a]&&t.push({x:n,y:a});var s=t[Math.floor(Math.random()*t.length)],o=Math.random()>.5?2:4;return e[s.x][s.y]=o,1===t.length&&r.endGame(e),e},r.slide=function(e,t){var n=t,a=r.state.score;return n=n.map((function(t){var n=t.filter((function(e){return e}));if("right"===e){for(var s,o=n.length;o>0;o--)n[o]===n[o-1]&&(n[o]=n[o]+n[o-1],a+=n[o],2048===n[o]&&r.setState({win:!0}),n[o-1]=0);(s=n=n.filter((function(e){return e}))).unshift.apply(s,Object(c.a)(Array(4-n.length).fill(0)))}else{for(var i,d=0;d<n.length-1;d++)n[d]===n[d+1]&&(n[d]=n[d]+n[d+1],a+=n[d],2048===n&&r.setState({win:!0}),n[d+1]=0);(i=n=n.filter((function(e){return e}))).push.apply(i,Object(c.a)(Array(4-n.length).fill(0)))}return n})),r.check(t,n)&&(n=r.addNumber(n)),[n,a]},r.transpose=function(e){for(var t=B(),n=0;n<4;n++)for(var r=0;r<4;r++)t[n][r]=e[r][n];return t},r.newGameHandler=function(){r.setState({Board:r.addNumber(r.addNumber(B())),score:0,win:0,lose:0})},r.keyDownHandler=function(e){if(!r.state.win&&!r.state.lose){var t,n;if(39===e.keyCode){var a=r.slide("right",r.state.Board),s=Object(o.a)(a,2);t=s[0],n=s[1]}else if(37===e.keyCode){var c=r.slide("left",r.state.Board),i=Object(o.a)(c,2);t=i[0],n=i[1]}else if(38===e.keyCode){t=r.transpose(r.state.Board);var d=r.slide("left",t),l=Object(o.a)(d,2);t=l[0],n=l[1],t=r.transpose(t)}else{t=r.transpose(r.state.Board);var u=r.slide("right",t),f=Object(o.a)(u,2);t=f[0],n=f[1],t=r.transpose(t)}r.setState({Board:t,best:n>r.state.best?n:r.state.best,score:n})}},r.state={Board:r.addNumber(B()),score:0,best:0,win:!1,lose:!1},r}return Object(d.a)(n,[{key:"check",value:function(e,t){for(var n=0;n<4;n++)for(var r=0;r<4;r++)if(e[n][r]!==t[n][r])return!0;return!1}},{key:"componentDidMount",value:function(){this.setState({Board:this.addNumber(this.state.Board)}),window.addEventListener("keydown",this.keyDownHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keyDownHandler)}},{key:"render",value:function(){return Object(h.jsxs)(r.Fragment,{children:[this.state.win||this.state.lose?Object(h.jsx)(S,{win:this.state.win,score:this.state.score,best:this.state.best,clicked:this.newGameHandler}):null,Object(h.jsx)("h1",{children:"2048"}),Object(h.jsx)(y,{score:this.state.score,best:this.state.best,clicked:this.newGameHandler}),Object(h.jsx)(k,{board:this.state.Board})]})}}]),n}(r.Component);var C=function(){return Object(h.jsx)(N,{})};n(35);s.a.render(Object(h.jsx)(C,{}),document.getElementById("root"))},7:function(e,t,n){e.exports={Endscreen:"endscreen_Endscreen__1l3on",Button:"endscreen_Button__B4zpZ"}}},[[36,1,2]]]);
//# sourceMappingURL=main.7c34bb10.chunk.js.map